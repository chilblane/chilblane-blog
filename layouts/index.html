{{ define "main" }}
  <main class="p-home">
    <article>
      <section class="p-home__title c-accent">
        <h1 class="c-display">The design system architect</h1>
      </section>
      <section class="p-home__intro c-accent">
        <p class="c-lead">
          I'm <strong>Daniel Singer</strong>, a design technologist and product
          designer who has built my 15-year career in the intersection between
          design and front-end engineering. Since the start of the decade I've
          been focused on design system architecture and implementation,
          fulfilling the roles of product manager, designer, and engineer.
          Outside of design systems, my areas of specialty are content
          management, marketing, and conversion design.
        </p>
        <p class="c-lead">
          I am very much a process- and system-oriented individual, thorough in
          my work and always looking for potential edge cases and improvements
          in my projects. I strongly take initiative where I see it.
        </p>
      </section>
      <section class="p-home__specialties c-accent">
        <h2 class="c-display c-display--3">Specialties</h2>
        <div class="p-home-panels">
          <div class="c-card">
            <h3>Design systems</h3>
            <p>
              Collaborated with design, engineering, branding, and product to
              plan out effective, flexible design systems and tokens, that work
              across disciplines, along with detailed documentation.
            </p>
          </div>
          <div class="c-card">
            <h3>UX ideation</h3>
            <p>
              Worked with product and other stakeholders to architect new and
              updated experiences for the user, making decisions based on data
              and commonly-accepted best practices.
            </p>
          </div>
          <div class="c-card">
            <h3>Web product design</h3>
            <p>
              Designed and built content, marketing, and conversion experiences
              using tools and languages like Figma, React, Sass, Gatsby, Hugo,
              Jekyll, and more.
            </p>
          </div>
        </div>
      </section>
    </article>
    <aside class="c-accent">
      <section>
        <h2 class="c-display c-display--3">Featured</h2>
        {{ range first 1 (where (where .Site.RegularPages "Type" "in" site.Params.mainSections) ".Params.featured" "=" true) }}
          <div class="p-home-featured">
            <div class="p-home-featured__thumbnail">
              {{ $title := .Page.Title }}
              {{ $thumbnail :=resources.Get "images/placeholder.jpg" }}
              {{ $featured_image := (.Page.Resources.ByType "image").GetMatch "featured-image*" }}
              {{ if $featured_image }}
                {{ $thumbnail = $featured_image }}
              {{ end }}
              {{ with $thumbnail }}
                {{ $imageSm := .Resize "320x" }}
                {{ $imageMd := .Resize "600x" }}
                {{ $imageLg := .Resize "1200x" }}
                <img
                  srcset="
                    {{ $imageSm.RelPermalink }}  320w,
                    {{ $imageMd.RelPermalink }}  600w,
                    {{ $imageLg.RelPermalink }} 1200w
                  "
                  src="{{ $imageLg.RelPermalink }}"
                  alt="{{ $title }}"
                />
              {{ end }}
            </div>
            <div class="p-home-featured__metadata shrink-0 grow-1 lg:min-w-96">
              <span class="c-tag">{{- .Params.project_year -}}</span>
              <h3>
                <a
                  class="c-button c-button--primary"
                  href="{{ .Permalink }}"
                  data-button-label="{{- $title -}}"
                >
                  <span class="c-button__label">{{- $title -}}</span>
                </a>
              </h3>
              <p class="text-base">{{- .Page.Description -}}</p>
              <div class="p-home-featured__tags">
                {{ $knowledge := "knowledge" }}
                {{ $skills := "skills" }}
                {{ with .Param $knowledge }}
                  {{ range $index, $tag := . }}
                    <span class="c-tag">{{ $tag }}</span>
                  {{- end -}}
                {{- end -}}
                {{ with .Param $skills }}
                  {{ range $index, $tag := . }}
                    <span class="c-tag">{{ $tag }}</span>
                  {{- end -}}
                {{- end -}}
              </div>
            </div>
          </div>
        {{ end }}
      </section>
    </aside>
  </main>
{{ end }}
