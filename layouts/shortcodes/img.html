{{/* Source: https://nilsnh.no/2018/06/10/hugo-how-to-add-support-for-responsive-images-trough-image-processing-and-page-bundles-3/ */}}

{{ $altText := .Get "alt" }}
{{ $caption := .Get "caption" }}
{{ with $.Page.Resources.GetMatch (.Get "name") }}
  <figure>
    <a
      class="inline-block border-2 hover:border-(--tw-prose-links-hover) focus:border-(--tw-prose-links-hover)"
      href="{{ .RelPermalink }}"
    >
      <img
        class="img-fluid max-h-[50dvh] my-0!"
        srcset="
          {{ (.Resize "320x").RelPermalink }}  320w,
          {{ (.Resize "800x").RelPermalink }}  800w,
          {{ (.Resize "1440x").RelPermalink }} 1440w
        "
        src="{{ (.Resize "810x").RelPermalink }}"
        alt="{{ $altText }}"
      />
    </a>
    <figcaption>{{ $caption }}</figcaption>
  </figure>
{{ else }}
  could not find image
{{ end }}
