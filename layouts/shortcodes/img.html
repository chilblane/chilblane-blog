{{/* Source: https://nilsnh.no/2018/06/10/hugo-how-to-add-support-for-responsive-images-trough-image-processing-and-page-bundles-3/ */}}

{{ $altText := .Get "alt" }}
{{ $caption := .Get "caption" }}
{{ with $.Page.Resources.GetMatch (.Get "name") }}
  {{/* {{ $imageSm := .Resize "320x" }}
  {{ $imageMd := .Resize "600x" }}
  {{ $imageLg := .Resize "1200x" }}
  <figure class="c-figure">
    <a href="{{ .RelPermalink }}">
      <img
        srcset="
          {{ $imageSm.RelPermalink }}  320w,
          {{ $imageMd.RelPermalink }}  600w,
          {{ $imageLg.RelPermalink }} 1200w
        "
        src="{{ $imageLg.RelPermalink }}"
        alt="{{ $altText }}"
      />
    </a>
    <figcaption>{{ $caption }}</figcaption>
  </figure>
  */}}
  <figure class="c-figure">
    <a href="{{ .RelPermalink }}">
      <img src="{{ .RelPermalink }}" alt="{{ $altText }}" />
    </a>
    <figcaption>{{ $caption }}</figcaption>
  </figure>
{{ else }}
  could not find image
{{ end }}
